<div class="w-100">
  <section class="d-flex justify-content-center align-items-end gap-2 mt-2 mb-4">
    <h2 class="title">
      <%- include('../icons/message-icon'); %>
      <span>
        <%= t('message') %>
      </span>
    </h2>
  </section>

  
  <% if(locals.data && locals.data.length > 0) { %>
  <div class="table-responsive">
    <table class="table table-striped table-hover border-top">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col"><%= t('email') %></th>
          <th scope="col"><%= t('message') %></th>
        </tr>
      </thead>
      <tbody>
        <% data.forEach((row, index)=> { %>
        <tr>
          <td>
            <span class="table-text"> <%= index + locals.pagination.firstRowNumber %> </span>
          </td>
          <td>
            <div class="d-flex flex-column">
              <span><%= row.email %></span>
              <span class="text-secondary fs-7" data-convertToDatetime><%= row.createdAt %></span>
            </div>
          </td>
          <td><p class="text-break lh-1 m-0 w-100"><%= row.message %></p></td>
        </tr>
        <% }); %>
      </tbody>
    </table>
  </div>

  <section class="pagination-wrapper">
    <div class="pagination-label"><%= t('paginationLabel', locals.pagination.page, locals.pagination.totalPage) %></div>
    <ul class="pagination">

      <% if (locals.pagination.firstQueryString) { %>
      <li class="page-item">
        <a class="page-link" href="/data/messages?<%= locals.pagination.firstQueryString %>"><%- include('../icons/first-icon'); -%></a>
      </li>
      <% } else { %>
      <li class="page-item disabled cursor-not-allowed">
        <span class="page-link"><%- include('../icons/first-icon'); -%></span>
      </li>
      <% } %>

      <% if (locals.pagination.previousQueryString) { %>
      <li class="page-item">
        <a class="page-link" href="/data/messages?<%= locals.pagination.previousQueryString %>"><%- include('../icons/previous-icon'); -%></a>
      </li>
      <% } else { %>
      <li class="page-item disabled cursor-not-allowed">
        <span class="page-link"><%- include('../icons/previous-icon'); -%></span>
      </li>
      <% } %>

      <% if (locals.pagination.nextQueryString) { %>
      <li class="page-item">
        <a class="page-link" href="/data/messages?<%= locals.pagination.nextQueryString %>"><%- include('../icons/next-icon'); -%></a>
      </li>
      <% } else { %>
      <li class="page-item disabled cursor-not-allowed">
        <span class="page-link"><%- include('../icons/next-icon'); -%></span>
      </li>
      <% } %>

      <% if (locals.pagination.lastQueryString) { %>
      <li class="page-item">
        <a class="page-link" href="/data/messages?<%= locals.pagination.lastQueryString %>""><%- include('../icons/last-icon'); -%></a>
      </li>
      <% } else { %>
      <li class=" page-item disabled cursor-not-allowed">
          <span class="page-link"><%- include('../icons/last-icon'); -%></span>
      </li>
      <% } %>

    </ul>
  </section>
  <% } else { %>
  <div class=" empty-data text-secondary bg-light-subtle border">
    <%- include('../icons/empty-icon'); -%>
    <p>
      <%= t('noRecords') %>
    </p>
  </div>
  <% } %>
  
</div>